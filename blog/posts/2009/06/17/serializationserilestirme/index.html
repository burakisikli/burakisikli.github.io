<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">

  <title>Serialization(Serileştirme)</title>

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">



<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://burakisikli.com/theme/js/html5shiv.min.js"></script>
  <script src="http://burakisikli.com/theme/js/respond.min.js"></script>
<![endif]-->

<script src="http://burakisikli.com/theme/js/modernizr-2.7.1.custom.min.js"></script>

<link rel="stylesheet" href="http://burakisikli.com/theme/css/academicons.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic">

  <link rel="stylesheet" href="http://burakisikli.com/theme/css/main.min.css?d99afb58">
</head>

<body class="post-index">

<div itemscope itemtype="http://schema.org/Person" class="navigation-wrapper">
  <!--<div class="site-name">
    <a href="/"><span itemprop="name">Burak ISIKLI</span></a>
  </div>-->
  <div class="top-navigation" align="right">
    <nav role="navigation" id="site-nav" class="nav">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/blog/">Blog</a></li>
        <li><a href="/research/">Research</a></li>
      </ul>
    </nav>
  </div>
</div>
<div id="main" role="main">
  <div class="article-author-side">
<div>
  <img src="http://burakisikli.com/theme/images/profile.jpg" alt="Burak IŞIKLI" class="bio-photo">
  <p>Computer scientist living in Istanbul, Turkey. Data scientist at Turkcell, Traveller, Rower, Sailor</p>
  
            <a href="https://twitter.com/burakisikli" class="author-social" target="_blank">
                    <i class="fa fa-fw fa-twitter-square"></i> Twitter
            </a>
            <a href="https://github.com/burakisikli" class="author-social" target="_blank">
                    <i class="fa fa-fw fa-github-square"></i> Github
            </a>
            <a href="https://github.com/burakisikli" class="author-social" target="_blank">
                    <i class="fa fa-fw fa-linkedin-square"></i> Linkedin
            </a>
    <a href=mailto:&#98;&#117;&#114;&#97;&#107;&#46;&#105;&#115;&#105;&#107;&#108;&#105;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109; class="author-social" target="_blank">
    	<i class="fa fa-fw fa-envelope-square"></i> Mail 
    </a>
</div>  </div>
  <article class="post">
    <div class="headline-wrap">
      <h1>Serialization(Serileştirme)</h1>
    </div>
    <div role="contentinfo">
      <p class="byline"><strong>
        <time datetime="2009-06-17">17.06.2009</time></ br></strong></p>
    </div>
    <div class="article-wrap">
      <p>Bir nesne herhangi stream&#8217;a (örneğin bir file&#8217;a ) yazılabilir ve bir
stream&#8217;den okunabilir. Programın çalışması esnasında hafızada bulunan
nesneler program bitince (kapatılınca) yok olur. Ancak serialization
tekniğiyle bir nesne diske veya herhangi bir yere kaydedilebilir. Bir
program, kapanmadan önce bir dosyayaya sakladığı bir nesneyi daha sonra
tekrar çalıştırıldığında dosyadan okuyabilir. Hatta bir programın
yazdığı nesneyi aynı dosyadan başka bir program da okuyabilir. Bu
şekilde nesnelerin network&#8217;te bir yerden diğerine gönderilmesi,
veritabanına normal bir veri gibi kaydedilebilmesi mümkün&nbsp;olabilmektedir.</p>
<h2>Serializable</h2>
<p>Bir class&#8217;ın serialization&#8217;a tabi tutulabilmesi için bazı koşulları
sağlaması&nbsp;gerekir.</p>
<p>1. Class public&nbsp;olmalı.</p>
<p>2. Serializable&#8217; interface&#8217;ini implement etmeli. Bu interface&#8217;de
implement edilecek herhangi bir method yoktur. Sadece class&#8217;ın serialize
edilebilemesine class yazarının izin verdiği anlamına gelir. Bazı
classlar güvenlik v.s. nedenlerle buna izin vermek istemeyebilir.
Nesnenin içerisindeki bütün veri serializable olmalıdır. Bir tane bile
serializable olmayan nesne varsa işlem başarısız&nbsp;olur.</p>
<p>3. Default (parametresiz) bir constructor&#8217;ı olmalıdır. Hiç bir
constructor yazılmaması durumunda da default contructor&#8217;un geçerli
olduğu için yine sorun&nbsp;olmaz.</p>
<p>Öncelikle yaratacağımız objeyi  <code>Serializable</code>yapmalıyız. Bunun için 
<code>Serializable</code> implement&nbsp;etmeliyiz.</p>
<p><strong>PersistentTime.java</strong></p>
<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">edu.burakkk.sun</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.Serializable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PersistentTime</span> <span class="kd">implements</span> <span class="n">Serializable</span> <span class="o">{</span>
 <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">10275539472837495L</span><span class="o">;</span>
 <span class="kd">private</span> <span class="n">Date</span> <span class="n">time</span><span class="o">;</span>

 <span class="kd">public</span> <span class="nf">PersistentTime</span><span class="o">()</span> <span class="o">{</span>
 <span class="n">time</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getTime</span><span class="o">();</span>
 <span class="o">}</span>

 <span class="kd">public</span> <span class="n">Date</span> <span class="nf">getTime</span><span class="o">()</span> <span class="o">{</span>
 <span class="k">return</span> <span class="n">time</span><span class="o">;</span>
 <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p><strong>FlattenTime.java</strong></p>
<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">edu.burakkk.sun</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.ObjectOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FlattenTime</span> <span class="o">{</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
<span class="n">String</span> <span class="n">filename</span> <span class="o">=</span> <span class="s">&quot;time.ser&quot;</span><span class="o">;</span>
<span class="k">if</span> <span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
<span class="n">filename</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
<span class="o">}</span>
<span class="n">PersistentTime</span> <span class="n">time</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PersistentTime</span><span class="o">();</span>
<span class="n">FileOutputStream</span> <span class="n">fos</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="n">ObjectOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="k">try</span> <span class="o">{</span>
<span class="n">fos</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileOutputStream</span><span class="o">(</span><span class="n">filename</span><span class="o">);</span>
<span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectOutputStream</span><span class="o">(</span><span class="n">fos</span><span class="o">);</span>
<span class="n">out</span><span class="o">.</span><span class="na">writeObject</span><span class="o">(</span><span class="n">time</span><span class="o">);</span>
<span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
<span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
<span class="o">}</span>
<span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p><strong>InflateTime.java</strong></p>
<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">edu.burakkk.sun</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.ObjectInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">InflateTime</span> <span class="o">{</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
<span class="n">String</span> <span class="n">filename</span> <span class="o">=</span> <span class="s">&quot;time.ser&quot;</span><span class="o">;</span>
<span class="k">if</span> <span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
<span class="n">filename</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
<span class="o">}</span>
<span class="n">PersistentTime</span> <span class="n">time</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="n">FileInputStream</span> <span class="n">fis</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="n">ObjectInputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="k">try</span> <span class="o">{</span>
<span class="n">fis</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="n">filename</span><span class="o">);</span>
<span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectInputStream</span><span class="o">(</span><span class="n">fis</span><span class="o">);</span>
<span class="n">time</span> <span class="o">=</span> <span class="o">(</span><span class="n">PersistentTime</span><span class="o">)</span> <span class="n">in</span><span class="o">.</span><span class="na">readObject</span><span class="o">();</span>
<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
<span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ClassNotFoundException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
<span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
<span class="o">}</span>
<span class="c1">// print out restored time</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Flattened time: &quot;</span> <span class="o">+</span> <span class="n">time</span><span class="o">.</span><span class="na">getTime</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
<span class="c1">// print out the current time</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Current time: &quot;</span> <span class="o">+</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getTime</span><span class="o">());</span>
<span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>Bu programda FlattenTime execute ettiğimizde o andaki saati objeye
alarak time.ser adıyla kaydediyor. Daha sonra InflateTime sınıfıyla da
bu kaydedilmiş objeyi okuyabiliriz. Aynı zamanda programı derlerken
argüman olarak dosya adını verdiğimiz takdirde obje verdiğimizle adla
kaydedilip okunacaktır. Dikkati çeken diğer bir konu
<code>static final long serialVersionUID = 10275539472837495L</code>kod satırıdır.
Aslında bu serilize ettiğimiz objeyi daha sonra tanımlada
kullanabileceğimiz bir anahtar değerdir.  Fakat olması şart değildir.
<code>ObjectOutputStream</code> veya<code>ObjectInputStream</code> ile obje dosyasını yazma
ve okumayı sağlıyoruz. Serialization özellikle network(ağ) programlamada
çok kullanılan bir&nbsp;özelliktir.</p>
      <hr />
    </div>

             <div class="comments">
            <h2>Comments !</h2>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'burakisikli-com';
                var disqus_identifier = 'blog/posts/2009/06/17/serializationserilestirme/';
                var disqus_url = 'http://burakisikli.com/blog/posts/2009/06/17/serializationserilestirme/';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//burakisikli-com.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the comments.</noscript>
            </div> 
  </article>
</div>

<div class="footer-wrap">
  <footer>
<p>
  &copy; 2009-2017 Burak ISIKLI
</p>  </footer>
</div>

<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="http://burakisikli.com/theme/js/jquery.fitvids.js"></script>

    <script src="http://burakisikli.com/theme/webassets-external/23e78ea5fc089298362d660f35789edb_main.js"></script>


<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55064690-2', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>